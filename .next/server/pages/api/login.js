"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/login";
exports.ids = ["pages/api/login"];
exports.modules = {

/***/ "./lib/prisma.js":
/*!***********************!*\
  !*** ./lib/prisma.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nlet prisma = _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient;\n\nif (false) {} else {\n  if (!global.prisma) {\n    global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n  }\n\n  prisma = global.prisma;\n}\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9saWIvcHJpc21hLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFFQSxJQUFJQyxNQUFNLEdBQUVELHdEQUFaOztBQUVBLElBQUksT0FBdUMsRUFBM0MsTUFFTztBQUNMLE1BQUksQ0FBQ0UsTUFBTSxDQUFDRCxNQUFaLEVBQW9CO0FBQ2xCQyxJQUFBQSxNQUFNLENBQUNELE1BQVAsR0FBZ0IsSUFBSUQsd0RBQUosRUFBaEI7QUFDRDs7QUFDREMsRUFBQUEsTUFBTSxHQUFHQyxNQUFNLENBQUNELE1BQWhCO0FBQ0Q7O0FBRUQsaUVBQWVBLE1BQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teXByb2plY3QvLi9saWIvcHJpc21hLmpzP2M1NjUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL3ByaXNtYS50c1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnO1xuXG5sZXQgcHJpc21hPSBQcmlzbWFDbGllbnQ7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHByaXNtYSA9IG5ldyBQcmlzbWFDbGllbnQoKTtcbn0gZWxzZSB7XG4gIGlmICghZ2xvYmFsLnByaXNtYSkge1xuICAgIGdsb2JhbC5wcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG4gIH1cbiAgcHJpc21hID0gZ2xvYmFsLnByaXNtYTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcHJpc21hO1xuIl0sIm5hbWVzIjpbIlByaXNtYUNsaWVudCIsInByaXNtYSIsImdsb2JhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./lib/prisma.js\n");

/***/ }),

/***/ "./pages/api/login.js":
/*!****************************!*\
  !*** ./pages/api/login.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handle)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/prisma */ \"./lib/prisma.js\");\n// import prisma from '../../../lib/prisma';\n// import User from '../..//User'\n// import bcrypt from 'bcryptjs'\n// import jwt from 'jsonwebtoken'\n// initDB()\n// const auth= async (req,res)=>{\n//      const {email,password} = req.body\n//      try{\n//         if(!email || !password){\n//           return res.status(422).json({error:\"please ass all the fields\"})\n//         }\n//       const user = await User.findOne({email})\n//       if(!user){\n//           return res.status(404).json({error:\"user dont exists with that email\"})\n//       }\n//         const doMatch =  await bcrypt.compare(password,user.password)\n//         if(doMatch){\n//            const token =  jwt.sign({userId:user._id},process.env.JWT_SECRET,{\n//                 expiresIn:\"7d\"\n//             })\n//             const {name,role,email} = user\n//             res.status(201).json({token,user:{name,role,email}})\n//         }else{\n//            return res.status(401).json({error:\"email or password dont match\"})\n//         }\n//      }catch(err){\n//          console.log(err)\n//      }\n// }\n// export default auth;\n\n\n\n/* JWT secret key */\n\nconst KEY = \"niyeraniyeraniyera\";\nconsole.log(KEY);\nasync function handle(req, res) {\n  // const auth= async (req, res) => {\n  // return new Promise(resolve => {\n  const {\n    method\n  } = req;\n\n  try {\n    switch (method) {\n      case 'POST':\n        /* Get Post Data */\n        const {\n          email,\n          password\n        } = req.body;\n        /* Any how email or password is blank */\n\n        if (!email || !password) {\n          return res.status(400).json({\n            status: 'error',\n            error: 'Request missing username or password'\n          });\n        }\n        /* Check user email in database */\n\n\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.default.user.findUnique({\n          where: {\n            email: email\n          }\n        }); // const user = USERS.find(user => {\n        //   return user.email === email;\n        // });\n\n        /* Check if exists */\n\n        if (!user) {\n          /* Send error with message */\n          res.status(400).json({\n            status: 'error',\n            error: 'User Not Found'\n          });\n        }\n        /* Variables checking */\n\n\n        if (user) {\n          console.log(user);\n          const userId = user.id,\n                userEmail = user.email,\n                userCompanyId = user.companyId,\n                userPassword = user.password,\n                userCreated = user.createdAt;\n          /* Check and compare password */\n\n          bcryptjs__WEBPACK_IMPORTED_MODULE_0___default().compare(password, userPassword).then(isMatch => {\n            /* User matched */\n            if (isMatch) {\n              /* Create JWT Payload */\n              const payload = {\n                id: userId,\n                email: userEmail,\n                userCompanyId: userCompanyId,\n                createdAt: userCreated\n              };\n              console.log(payload);\n              /* Sign token */\n\n              jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign(payload, KEY, {\n                expiresIn: 31556926 // 1 year in seconds\n\n              }, (err, token) => {\n                /* Send succes with token */\n                console.log(token);\n                res.status(200).json({\n                  success: true,\n                  token: 'Bearer ' + token\n                });\n              });\n            } else {\n              /* Send error with message */\n              res.status(400).json({\n                status: 'error',\n                error: 'Password incorrect'\n              });\n            }\n          });\n        }\n\n        break;\n\n      case 'PUT':\n        break;\n\n      case 'PATCH':\n        break;\n\n      default:\n        break;\n    }\n  } catch (error) {\n    throw error;\n  } //   return resolve();\n  // });\n\n}\n;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUIsa0JBQUFBLE9BQU8sRUFBRSxJQURVO0FBRW5CRCxrQkFBQUEsS0FBSyxFQUFFLFlBQVlBO0FBRkEsaUJBQXJCO0FBSUQsZUFiSDtBQWVELGFBMUJELE1BMEJPO0FBQ0w7QUFDQTFCLGNBQUFBLEdBQUcsQ0FDQUssTUFESCxDQUNVLEdBRFYsRUFFR0MsSUFGSCxDQUVRO0FBQUVELGdCQUFBQSxNQUFNLEVBQUUsT0FBVjtBQUFtQkUsZ0JBQUFBLEtBQUssRUFBRTtBQUExQixlQUZSO0FBR0Q7QUFDRixXQWxDRDtBQW1DRDs7QUFDRDs7QUFDRixXQUFLLEtBQUw7QUFDRTs7QUFDRixXQUFLLE9BQUw7QUFDRTs7QUFDRjtBQUNFO0FBNUVKO0FBOEVELEdBL0VELENBK0VFLE9BQU9BLEtBQVAsRUFBYztBQUNkLFVBQU1BLEtBQU47QUFDRCxHQXJGMEMsQ0FzRjdDO0FBQ0E7O0FBQ0Q7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL215cHJvamVjdC8uL3BhZ2VzL2FwaS9sb2dpbi5qcz8wMzg0Il0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gaW1wb3J0IHByaXNtYSBmcm9tICcuLi8uLi8uLi9saWIvcHJpc21hJztcbi8vIGltcG9ydCBVc2VyIGZyb20gJy4uLy4uLy9Vc2VyJ1xuLy8gaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcbi8vIGltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuXG4vLyBpbml0REIoKVxuXG4vLyBjb25zdCBhdXRoPSBhc3luYyAocmVxLHJlcyk9Pntcbi8vICAgICAgY29uc3Qge2VtYWlsLHBhc3N3b3JkfSA9IHJlcS5ib2R5XG4vLyAgICAgIHRyeXtcbi8vICAgICAgICAgaWYoIWVtYWlsIHx8ICFwYXNzd29yZCl7XG4vLyAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDIyKS5qc29uKHtlcnJvcjpcInBsZWFzZSBhc3MgYWxsIHRoZSBmaWVsZHNcIn0pXG4vLyAgICAgICAgIH1cbi8vICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoe2VtYWlsfSlcbi8vICAgICAgIGlmKCF1c2VyKXtcbi8vICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe2Vycm9yOlwidXNlciBkb250IGV4aXN0cyB3aXRoIHRoYXQgZW1haWxcIn0pXG4vLyAgICAgICB9XG4vLyAgICAgICAgIGNvbnN0IGRvTWF0Y2ggPSAgYXdhaXQgYmNyeXB0LmNvbXBhcmUocGFzc3dvcmQsdXNlci5wYXNzd29yZClcbi8vICAgICAgICAgaWYoZG9NYXRjaCl7XG4vLyAgICAgICAgICAgIGNvbnN0IHRva2VuID0gIGp3dC5zaWduKHt1c2VySWQ6dXNlci5faWR9LHByb2Nlc3MuZW52LkpXVF9TRUNSRVQse1xuLy8gICAgICAgICAgICAgICAgIGV4cGlyZXNJbjpcIjdkXCJcbi8vICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgICBjb25zdCB7bmFtZSxyb2xlLGVtYWlsfSA9IHVzZXJcbi8vICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHt0b2tlbix1c2VyOntuYW1lLHJvbGUsZW1haWx9fSlcbi8vICAgICAgICAgfWVsc2V7XG4vLyAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7ZXJyb3I6XCJlbWFpbCBvciBwYXNzd29yZCBkb250IG1hdGNoXCJ9KVxuLy8gICAgICAgICB9XG4vLyAgICAgIH1jYXRjaChlcnIpe1xuLy8gICAgICAgICAgY29uc29sZS5sb2coZXJyKVxuLy8gICAgICB9XG4vLyB9XG4vLyBleHBvcnQgZGVmYXVsdCBhdXRoO1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcyc7XG5pbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5pbXBvcnQgcHJpc21hIGZyb20gJy4uLy4uL2xpYi9wcmlzbWEnO1xuXG4vKiBKV1Qgc2VjcmV0IGtleSAqL1xuY29uc3QgS0VZID0gXCJuaXllcmFuaXllcmFuaXllcmFcIjtcbmNvbnNvbGUubG9nKEtFWSlcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZShyZXEsIHJlcykge1xuLy8gY29uc3QgYXV0aD0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIC8vIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICBjb25zdCB7IG1ldGhvZCB9ID0gcmVxO1xuICAgIHRyeSB7XG4gICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICBjYXNlICdQT1NUJzpcbiAgICAgICAgICAvKiBHZXQgUG9zdCBEYXRhICovXG4gICAgICAgICAgY29uc3QgeyBlbWFpbCwgcGFzc3dvcmQgfSA9IHJlcS5ib2R5O1xuICAgICAgICAgIC8qIEFueSBob3cgZW1haWwgb3IgcGFzc3dvcmQgaXMgYmxhbmsgKi9cbiAgICAgICAgICBpZiAoIWVtYWlsIHx8ICFwYXNzd29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgICAgICAgICAgc3RhdHVzOiAnZXJyb3InLFxuICAgICAgICAgICAgICBlcnJvcjogJ1JlcXVlc3QgbWlzc2luZyB1c2VybmFtZSBvciBwYXNzd29yZCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogQ2hlY2sgdXNlciBlbWFpbCBpbiBkYXRhYmFzZSAqL1xuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgICAgIGVtYWlsOiBlbWFpbCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSlcbiAgICAgICAgICAvLyBjb25zdCB1c2VyID0gVVNFUlMuZmluZCh1c2VyID0+IHtcbiAgICAgICAgICAvLyAgIHJldHVybiB1c2VyLmVtYWlsID09PSBlbWFpbDtcbiAgICAgICAgICAvLyB9KTtcbiAgICAgICAgICAvKiBDaGVjayBpZiBleGlzdHMgKi9cbiAgICAgICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgICAgIC8qIFNlbmQgZXJyb3Igd2l0aCBtZXNzYWdlICovXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7IHN0YXR1czogJ2Vycm9yJywgZXJyb3I6ICdVc2VyIE5vdCBGb3VuZCcgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIFZhcmlhYmxlcyBjaGVja2luZyAqL1xuICAgICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKVxuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gdXNlci5pZCxcbiAgICAgICAgICAgICAgdXNlckVtYWlsID0gdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgdXNlckNvbXBhbnlJZD11c2VyLmNvbXBhbnlJZCxcbiAgICAgICAgICAgICAgdXNlclBhc3N3b3JkID0gdXNlci5wYXNzd29yZCxcbiAgICAgICAgICAgICAgdXNlckNyZWF0ZWQgPSB1c2VyLmNyZWF0ZWRBdDtcbiAgICAgICAgICAgIC8qIENoZWNrIGFuZCBjb21wYXJlIHBhc3N3b3JkICovXG4gICAgICAgICAgICBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlclBhc3N3b3JkKS50aGVuKGlzTWF0Y2ggPT4ge1xuICAgICAgICAgICAgICAvKiBVc2VyIG1hdGNoZWQgKi9cbiAgICAgICAgICAgICAgaWYgKGlzTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAvKiBDcmVhdGUgSldUIFBheWxvYWQgKi9cbiAgICAgICAgICAgICAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgICAgIGVtYWlsOiB1c2VyRW1haWwsXG4gICAgICAgICAgICAgICAgICB1c2VyQ29tcGFueUlkOnVzZXJDb21wYW55SWQsXG4gICAgICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHVzZXJDcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2FkKVxuICAgICAgICAgICAgICAgIC8qIFNpZ24gdG9rZW4gKi9cbiAgICAgICAgICAgICAgICBqd3Quc2lnbihcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQsXG4gICAgICAgICAgICAgICAgICBLRVksXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyZXNJbjogMzE1NTY5MjYsIC8vIDEgeWVhciBpbiBzZWNvbmRzXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgKGVyciwgdG9rZW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLyogU2VuZCBzdWNjZXMgd2l0aCB0b2tlbiAqL1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0b2tlbilcbiAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgdG9rZW46ICdCZWFyZXIgJyArIHRva2VuLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvKiBTZW5kIGVycm9yIHdpdGggbWVzc2FnZSAqL1xuICAgICAgICAgICAgICAgIHJlc1xuICAgICAgICAgICAgICAgICAgLnN0YXR1cyg0MDApXG4gICAgICAgICAgICAgICAgICAuanNvbih7IHN0YXR1czogJ2Vycm9yJywgZXJyb3I6ICdQYXNzd29yZCBpbmNvcnJlY3QnIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BVVCc6XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ1BBVENIJzpcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAvLyAgIHJldHVybiByZXNvbHZlKCk7XG4gIC8vIH0pO1xufTsiXSwibmFtZXMiOlsiYmNyeXB0Iiwiand0IiwicHJpc21hIiwiS0VZIiwiY29uc29sZSIsImxvZyIsImhhbmRsZSIsInJlcSIsInJlcyIsIm1ldGhvZCIsImVtYWlsIiwicGFzc3dvcmQiLCJib2R5Iiwic3RhdHVzIiwianNvbiIsImVycm9yIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsInVzZXJJZCIsImlkIiwidXNlckVtYWlsIiwidXNlckNvbXBhbnlJZCIsImNvbXBhbnlJZCIsInVzZXJQYXNzd29yZCIsInVzZXJDcmVhdGVkIiwiY3JlYXRlZEF0IiwiY29tcGFyZSIsInRoZW4iLCJpc01hdGNoIiwicGF5bG9hZCIsInNpZ24iLCJleHBpcmVzSW4iLCJlcnIiLCJ0b2tlbiIsInN1Y2Nlc3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/login.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/api/login.js"));
module.exports = __webpack_exports__;

})();